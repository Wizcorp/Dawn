# This is the default internal domain, if you want to change those values either
# do it in your inventory [all:vars] section or use --extra-vars, it is used by
# docker containers and various elements of dawn to find which machines is where
# via consul
local_domain_name: dawn
local_domain_dc: in
local_domain_full: "{{ local_domain_dc }}.{{ local_domain_name }}"

# Vault configuration
vault_addr: "http://{{ group_ipv4.control[0] }}:8200"
vault_groups: vault,consul
vault_local_root_config: "/home/dawn/.vault.root.conf"
vault_local_ansible_config: "/home/dawn/.vault.ansible.conf"
vault_config: "{{ playbook_dir }}/../files/vault/vault.hcl.j2"
vault_key_file: /etc/ssl/certs/vault/server.key.pem
vault_cert_file: /etc/ssl/certs/vault/server.cert.pem
vault_ca_file: /etc/ssl/certs/vault/server.ca.pem
vault_client_key_file: /etc/ssl/certs/vault/client.key.pem
vault_client_cert_file: /etc/ssl/certs/vault/client.cert.pem
vault_client_ca_file: /etc/ssl/certs/vault/client.ca.pem

# Vault TTL configuration, root CA is valid 10 years, intermediate is valid for
# 2 years, make sure to rotate your certificates before they expire
vault_root_ca_ttl: 87600h
vault_intermediate_ca_ttl: 17520h
vault_server_max_ttl: 17520h
vault_client_max_ttl: 8760h
vault_consul_server_max_ttl: 17520h
vault_consul_client_max_ttl: 8760h
vault_docker_server_max_ttl: 17520h
vault_docker_client_max_ttl: 8760h
vault_ansible_token_ttl: 7200
vault_ansible_token_max_ttl: 7200
vault_ansible_secret_id_ttl: 1314000
vault_ansible_secret_id_num_uses: 0

# Consul configuration
consul_domain: "{{ local_domain_name }}"
consul_datacenter: "{{ local_domain_dc }}"
consul_template: "{{ playbook_dir }}/../files/consul/consul.conf.j2"
consul_key_file: /etc/ssl/certs/consul/server.key.pem
consul_cert_file: /etc/ssl/certs/consul/server.cert.pem
consul_ca_file: /etc/ssl/certs/consul/server.ca.pem
consul_client_key_file: /etc/ssl/certs/consul/client.key.pem
consul_client_cert_file: /etc/ssl/certs/consul/client.cert.pem
consul_client_ca_file: /etc/ssl/certs/consul/client.ca.pem

# Docker configuration
docker_ip: "{{ private_ipv4 }}"
docker_key_file: /etc/ssl/certs/docker/server.key.pem
docker_cert_file: /etc/ssl/certs/docker/server.cert.pem
docker_ca_file: /etc/ssl/certs/docker/server.ca.pem
docker_client_key_file: /etc/ssl/certs/docker/client.key.pem
docker_client_cert_file: /etc/ssl/certs/docker/client.cert.pem
docker_client_ca_file: /etc/ssl/certs/docker/client.ca.pem

# Traefik setup
traefik_version: v1.2.0
traefik_image: "traefik:{{ traefik_version }}"
traefik_stack: traefik
traefik_file: /opt/dawn/traefik.yml
traefik_domain: "{{ local_domain_name }}"

# Monitoring configuration
monitoring_user: admin
monitoring_password: admin

# Local configuration
local_storage_dir: "/home/dawn"
local_vault_client_key_file: "{{ local_storage_dir }}/certs/vault/client.key.pem"
local_vault_client_cert_file: "{{ local_storage_dir }}/certs/vault/client.cert.pem"
local_vault_client_ca_file: "{{ local_storage_dir }}/certs/vault/client.ca.pem"
